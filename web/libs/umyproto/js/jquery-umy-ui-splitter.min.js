var umySplitterHolder=function(c,m){c(document).on("mousemove.umySplitter",function(a){if(null!=m.current)return m.current._drag(a)});c(document).on("mouseup.umySplitter",function(a){if(null!=m.current)return m.current._stopDrag()});c.widget("ui.umySplitter",{options:{orientation:"vertical",panels:void 0,resizable:!0,invisible:!1,splitBarSize:5,disabled:!1},_create:function(){void 0==this.options.panels&&(this.options.panels=[{size:"50%"},{size:"50%"}]);this.element.addClass("umySplitter");var a=
this.element.children();this.panel1=c(a[0]);this.panel1.css("left","0px");this.panel1.css("top","0px");this.panel1.addClass("umySplitterPanel");this.panel2=c(a[1]);this.panel2.css("left","0px");this.panel2.css("top","0px");this.panel2.addClass("umySplitterPanel");this._sizeType="width";this._posType="left";"horizontal"==this.options.orientation&&(this._sizeType="height",this._posType="top");c.each(this.options.panels,function(){void 0==this.min&&(this.min=0);void 0==this.size&&(this.size=0);0>this.size&&
(this.size=0);0>this.min&&(this.min=0);void 0==this.collapsible&&(this.collapsible=!1);void 0==this.collapsed&&(this.collapsed=!1);0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))});this.splitBar=c("\x3cdiv\x3e\x3cdiv\x3e\x3c/div\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e");
this.splitBar.addClass("umySplitterSplitbar-"+this.options.orientation);this.splitBar.insertAfter(this.panel1);this.splitBarLine=this.splitBar.find("div:first");this.splitBarLine.addClass("umySplitterSplitline-"+this.options.orientation);this.splitBarButton=this.splitBar.find("div:last");this.splitBarButton.addClass("umySplitterButton-"+this.options.orientation);this._render()},splitBarElement:function(){return this.splitBar},panels:function(){return[this.panel1,this.panel2]},_setOption:function(a,
b){this._super(a,b);this._render()},_setOptions:function(a){this._super(a);this._render()},_render:function(){this._unbindEvents();this.options.resizable?"vertical"==this.options.orientation?this.splitBar.css("cursor","col-resize"):this.splitBar.css("cursor","row-resize"):this.splitBar.css("cursor","default");var a=Math.round(this.options.splitBarSize/2);this.options.invisible?this.splitBarLine.hide():(this.splitBarLine.show(),a-=1);"horizontal"==this.options.orientation?(this.splitBar.height(a),
this.splitBar.css("padding-top",a)):(this.splitBar.width(a),this.splitBar.css("padding-left",a));this.options.panels[0].collapsible||this.options.panels[1].collapsible?(this.splitBarButton.css("position","absolute"),"vertical"===this.options.orientation?(this.splitBarButton.width(this.options.splitBarSize-2),this.splitBarButton.height(30),this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","1px"),this.splitBarButton.css("margin-top","-15px")):(this.splitBarButton.height(this.options.splitBarSize-
2),this.splitBarButton.width(30),this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","1px"),this.splitBarButton.css("margin-left","-15px")),this.splitBarButton.show()):this.splitBarButton.hide();this._refresh();this._bindEvents()},_refresh:function(){var a=parseInt(this.options.splitBarSize),b=this.element[this._sizeType](),c=b/100,h=1/c,e=h*a,d=this.panel1,f=this.panel2,g=this.options.panels[0].size,l=this.options.panels[0].min,k=this.options.panels[1].min;-1!=k.toString().indexOf("%")&&
(k=parseFloat(k)*c);-1!=l.toString().indexOf("%")&&(l=parseFloat(l)*c);if(this.options.panels[0].collapsed)d[this._sizeType](0),f[this._sizeType](Math.max(k,b-a));else if(this.options.panels[1].collapsed)f[this._sizeType](0),d[this._sizeType](Math.max(l,b-a));else if(-1!=g.toString().indexOf("%"))b=100-parseFloat(g),d.css(this._sizeType,parseFloat(g).toFixed(2)+"%"),f.css(this._sizeType,(b-e).toFixed(2)+"%"),b=f[this._sizeType](),b<k&&(k=(b-k)*h,g=parseFloat(g)+parseFloat(k),b=100-parseFloat(g),d.css(this._sizeType,
parseFloat(g)+"%"),b-=e,f.css(this._sizeType,b+"%")),d[this._sizeType]()<l&&d.css(this._sizeType,parseFloat(l*h)+"%");else{b=b-g-a;if(d[0].style[this._sizeType]!=g+"px")d[this._sizeType](g);if(f[0].style[this._sizeType]!=b+"px")f[this._sizeType](b);b<k&&(g+=b-k,f[this._sizeType](k),d[this._sizeType](g));if(g<l)d[this._sizeType](l)}h=this.panel1[this._sizeType]();this.splitBar[0].style[this._posType]!=h+"px"&&(this.splitBar[0].style[this._posType]=h+"px");this.panel2[0].style[this._posType]!=h+a+"px"&&
(this.panel2[0].style[this._posType]=h+a+"px");this.element.find(".umySplitter").umySplitter("refresh")},_startDrag:function(a){if(this.options.panels[0].collapsed||this.options.panels[1].collapsed||!this.options.resizable||this.options.disabled)return!1;null==this.overlay&&(this._dragging=!0,this._initOverlay(!0),this._dragStart=this._getPos(a),m.current=this,this._trigger("startDrag",a));return!1},_drag:function(a){if(this.options.panels[0].collapsed||(this.options.panels[1].collapsed||this.options.disabled)||
!this._dragging)return!0;this._position=this._getPos(a);if(this.overlay&&!this._splitBarClone&&3<=Math.abs(this._position[this._posType]-this._dragStart[this._posType]))a=this.splitBar.offset(),this._cloneStart={left:a.left,top:a.top},this._splitBarClone=this._createSplitBarClone();else{if(this._splitBarClone){var b=this.element[this._sizeType](),c=b/100,h=this._splitBarClone[this._sizeType](),e=parseInt(this.element.offset()[this._posType]),e=this._position[this._posType]-this._dragStart[this._posType]+
this._cloneStart[this._posType]-e;0>e&&(e=0);e>b+0-h&&(e=b+0-h);var d=this.options.panels[0].min,f=this.options.panels[1].min;-1!=f.toString().indexOf("%")&&(f=parseFloat(f)*c);-1!=d.toString().indexOf("%")&&(d=parseFloat(d)*c);e<d&&(e=d);e>b+0-h-f&&(e=b+0-h-f);this._splitBarClone.css(this._posType,e);a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();this._trigger("drag",a);return!1}return!0}},_stopDrag:function(){this._dragging&&this._initOverlay();this._dragging=!1;if(this._splitBarClone){if(this.options.panels[0].collapsed||
this.options.panels[1].collapsed||this.options.disabled)return!0;this._resize();this._splitBarClone.remove();this._splitBarClone=null}m.current=null;this._trigger("stopDrag",null)},refresh:function(){this._refresh()},_resize:function(){var a=this._splitBarClone.css(this._posType),b=1/(this.element[this._sizeType]()/100);-1!=this.options.panels[0].size.toString().indexOf("%")?this.options.panels[0].size=parseFloat(a)*b+"%":this.options.panels[0].size=parseInt(a);this._refresh()},_getPos:function(a){var b=
parseInt(a.pageX);a=parseInt(a.pageY);return{left:b,top:a}},_initOverlay:function(a){this.overlay||"undefined"==a?(this.overlay.remove(),this.overlay=null):!0==a&&(this.overlay=c("\x3cdiv style\x3d'z-index: 100; background: #fff;'\x3e\x3c/div\x3e"),this.overlay.css("opacity",0.01),this.overlay.css("position","absolute"),this.overlay.appendTo(c(document.body)),this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(c(window).width()),this.overlay.height(c(window).height()),
"horizontal"==this.options.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize"))},_createSplitBarClone:function(){var a=this.splitBar.clone();a.fadeTo(0,0.7);a.css("z-index",99999);"vertical"==this.options.orientation?a.css("cursor","col-resize"):a.css("cursor","row-resize");this.element.append(a);a.find("div:first").show();return a},_bindEvents:function(){var a=this;if(!this.options.disabled&&this.options.resizable)this.splitBar.on("mousedown.umy",function(b){return b.target==
a.splitBar[0]||b.target==a.splitBarLine[0]?a._startDrag(b):!1});if(!this.options.disabled&&(this.options.panels[0].collapsible||this.options.panels[1].collapsible))this.splitBarButton.on("click.umySplitter",function(){a.options.panels[0].collapsible?a.options.panels[0].collapsed?a.expand():a.collapse():a.options.panels[1].collapsible&&(a.options.panels[1].collapsed?a.expand():a.collapse())})},_unbindEvents:function(){this.splitBar.off("mousedown.umy");this.splitBarButton.off("click.umySplitter")},
_destroy:function(){this._unbindEvents();this.splitBar.remove();this.element.removeClass("umySplitter");this.panel1.removeClass("umySplitterPanel");this.panel2.removeClass("umySplitterPanel")},collapse:function(){if(!this.options.disabled){var a=-1;this.options.panels[0].collapsed=this.options.panels[1].collapsed=!1;this.panel1[0].style.visibility="inherit";this.panel2[0].style.visibility="inherit";this.options.panels[0].collapsible?(this.panel1[0].style.visibility="hidden",a=0):this.options.panels[1].collapsible&&
(this.panel2[0].style.visibility="hidden",a=1);-1!=a&&(this.options.panels[a].collapsed=!0,this.splitBar.addClass("umySplitterSplitbarCollapsed"),this._refresh());this._trigger("collapse",null)}},expand:function(){if(!this.options.disabled){var a=-1;this.options.panels[0].collapsed=this.options.panels[1].collapsed=!1;this.panel1[0].style.visibility="inherit";this.panel2[0].style.visibility="inherit";this.options.panels[0].collapsible?(this.panel1[0].style.visibility="inherit",a=0):this.options.panels[1].collapsible&&
(this.panel2[0].style.visibility="inherit",a=1);-1!=a&&(this.options.panels[a].collapsed=!1,this.splitBar.removeClass("umySplitterSplitbarCollapsed"),this._refresh());this._trigger("expand",null)}}});return m}(jQuery,umySplitterHolder||{current:null});